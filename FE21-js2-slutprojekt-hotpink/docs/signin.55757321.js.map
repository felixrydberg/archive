{"mappings":"quBAAA,IAAAA,EAAAC,EAAA,sBAIOC,eAAeC,EAAcC,GAClC,MAAMC,EAAWC,EAAAC,IAAID,EAAAE,IAAIR,EAAAS,GAAI,SAASL,MACtC,eAAWC,GAAUK,WAGnBC,QAAQC,IAAI,UACL,GAKJ,MAAMC,EAAW,CAACC,EAAMC,IACzBD,IAASC,EAQFC,EAAWF,IAIlBA,EAAKG,MAFG,0EAUPf,eAAegB,EAASd,EAAMe,GACnC,MAAMd,EAAWC,EAAAC,IAAID,EAAAE,IAAIR,EAAAS,GAAI,UAAUL,MAEvC,UAAWC,GAAUK,SACnB,mBAAkBL,GAAUe,MAAMD,MAASA","sources":["src/script/modules/signfunctions.ts"],"sourcesContent":["import { db } from './db';\r\nimport { ref, get } from 'firebase/database';\r\n\r\n// Kollar om användarnamnet finns i Databasen\r\nexport async function userAvailable(name): Promise<boolean> {\r\n  const snapshot = get(ref(db, `users/${name}`));\r\n  if ((await snapshot).exists()) {\r\n    return true;\r\n  } else {\r\n    console.log('false');\r\n    return false;\r\n  }\r\n}\r\n\r\n// Kollar om lösenorden matchar\r\nexport const pwdMatch = (pwd1, pwd2): boolean => {\r\n  if (pwd1 === pwd2) {\r\n    return false;\r\n  } else {\r\n    return true;\r\n  }\r\n};\r\n\r\n// Kollar om lösenordet uppfyller kraven för lösenord\r\nexport const pwdSpec = (pwd1): boolean => {\r\n  // Regex för att se om lösenordet uppfyller kravn: 8-32 karaktärer, om den innehåller Stora och små bokstäver, nummer och #¤!?* (Speciella tecken)\r\n  const filter =\r\n    /^(?=.*\\p{Ll})(?=.*\\p{Lu})(?=.*[\\d|@#$!%*?&])[\\p{L}\\d@#$!%*?&]{8,32}$/gu;\r\n  if (pwd1.match(filter)) {\r\n    return false;\r\n  } else {\r\n    return true;\r\n  }\r\n};\r\n\r\n// Kollar om lösenordet matchar användarnamnet\r\nexport async function checkPwd(name, pwd): Promise<boolean> {\r\n  const snapshot = get(ref(db, `/users/${name}`));\r\n\r\n  if ((await snapshot).exists()) {\r\n    if ((await (await snapshot).val().pwd) === pwd) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n}\r\n"],"names":["$fC0jS","parcelRequire","async","$e44896986b35361c$export$51ead03f434433d7","name","snapshot","$8tedJ","get","ref","db","exists","console","log","$e44896986b35361c$export$9f588eccacaa8bcb","pwd1","pwd2","$e44896986b35361c$export$a6b26a6bfed65eea","match","$e44896986b35361c$export$58bef18f17bd37ea","pwd","val"],"version":3,"file":"signin.55757321.js.map"}